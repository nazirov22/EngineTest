# EngineTest

Консольное приложение для симуляции работы двигателя внутреннего сгорания  
и проведения двух тестов:  
1. Определение времени до перегрева двигателя  
2. Определение максимальной мощности двигателя и скорости коленвала, при которой она достигается

---

## Описание задачи

Программа моделирует изменение скорости вращения коленвала и температуры двигателя, работающего без нагрузки, с течением модельного времени  
Вычисления выполняются численно методом явного Эйлера с контролем погрешности

---

## Реализованные блоки

### 1. **Симуляция двигателя (`Engine`)**
- Хранит параметры двигателя:
  - момент инерции `I`
  - кусочно-линейная зависимость крутящего момента `M(V)`
  - коэффициенты `HM`, `HV`, `Ccool`
  - температуру окружающей среды `T_env`
- Реализует шаг моделирования по времени (`step(dt)`):
  - a = M / I
  - dT/dt = M * HM + V² * HV + C * (T_env - T)
- Рассчитывает текущую мощность N = M * V / 1000   (кВт)

---

### 2. **Тесты**
#### TestBenchHeat
Выполняет симуляцию до момента, когда температура двигателя достигает температуры перегрева    
Результат — время до перегрева (в секундах)

#### TestBenchMaxPower
Снимает показания мощности двигателя, пока двигатель раскручивается  
Результат — максимальная мощность и скорость коленвала, при которой она достигается

---

### 3. **Точка входа (`main.cpp`)**
- Запрашивает у пользователя температуру окружающей среды
- Задаёт параметры двигателя
- Запускает оба теста и выводит результаты в консоль

---

## Структура проекта
/test/  
├── main.cpp  
├── Engine.h / Engine.cpp  
├── PiecewiseTorque.h / PiecewiseTorque.cpp  
├── TestBenchHeat.h / TestBenchHeat.cpp  
└── TestBenchMaxPower.h / TestBenchMaxPower.cpp  

---

## Компиляция и запуск
Компиляция:
```
g++ -std=c++17 -O2 *.cpp -o test
```
Запуск:
```
./test
```

Пример вывода:
```
Введите температуру окружающей среды (C): 23
Время до перегрева: 70.4950 сек
Максимальная мощность: 20.9996 кВт
Скорость при ней: 200.0255 рад/с
```